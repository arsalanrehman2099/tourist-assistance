<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="UI Fresh -  uifresh.net" />
    <link
      rel="icon"
      href="https://uifresh.net/wp-content/uploads/2024/02/cropped-uifresh-favicon-new-1-32x32.png"
      sizes="32x32"
    />
    <title>Contact Us - Tourist Assistance</title>
    <link rel="shortcut icon" href="../favicon.svg" type="image/svg+xml" />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/css/bootstrap.min.css"
    />
    <link rel="stylesheet" type="text/css" href="../css/stylecon.css" />
    <link rel="stylesheet" type="text/css" href="../css/‏‏stylec2.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body id="top">
    <header class="header" data-header>
      <div class="overlay" data-overlay></div>
      <div class="header-top">
        <div class="container">
          <a href="#" class="logo">
            <img src="../assets/images/logo.svg" alt="Tourist Assistance" />
          </a>

          <div class="header-btn-group">
            <button id="login-btn" class="btn btn-primary">
              <a href="./login.html">Login/Signup</a>
            </button>

            <button
              id="logout-btn"
              class="btn btn-primary"
              style="display: none"
            >
              Logout
            </button>
            <button
              class="nav-open-btn"
              aria-label="Open Menu"
              data-nav-open-btn
            >
              <ion-icon name="menu-outline"></ion-icon>
            </button>
          </div>
        </div>
      </div>

      <div class="header-bottom">
        <div class="container">
          <nav class="navbar" data-navbar>
            <div class="navbar-top">
              <a href="#" class="logo">
                <img
                  src="../assets/images/logo-blue.svg"
                  alt="Tourist Assistance"
                />
              </a>

              <button
                class="nav-close-btn"
                aria-label="Close Menu"
                data-nav-close-btn
              >
                <ion-icon name="close-outline"></ion-icon>
              </button>
            </div>

            <ul class="navbar-list">
              <li>
                <a href="../index.html" class="navbar-link" data-nav-link
                  >home</a
                >
              </li>

              <li>
                <a
                  href="#"
                  id="destination-link"
                  class="navbar-link"
                  data-nav-link
                >
                  Destination
                </a>
              </li>

              <li>
                <a href="gallery.html" class="navbar-link" data-nav-link
                  >gallery</a
                >
              </li>

              <li>
                <a href="about.html" class="navbar-link" data-nav-link
                  >about us</a
                >
              </li>
              <li>
                <a href="contact.html" class="navbar-link" data-nav-link
                  >contact us</a
                >
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <main>
      <article>
        <section class="hero" id="home">
          <div class="container">
            <h2 class="h1 hero-title">Contact Us</h2>
            <p class="hero-text">
              On the "Contact Us" page of Tourist Assistance, a website offering
              tourism services in Yanbu with its exquisite views and booking
              options for various attractions like islands, cafes, and
              restaurants, visitors can connect for inquiries, feedback, or
              assistance. Whether it's about exploring the scenic beauty of
              Yanbu or reserving a spot at one of its charming locations, our
              team is here to help. Feel free to reach out to us through the
              provided contact details for a memorable experience in Yanbu.
            </p>

            <div class="btn-group">
              <button class="btn btn-secondary">
                <a href="#">Learn More!</a>
              </button>
            </div>
          </div>
        </section>

        <section class="contact-us-section uf-contact-form-01 mx-auto">
          <div class="container">
            <div
              class="row justify-content-center bg-white rounded-4 shadow py-5 gx-5 px-lg-5"
            >
              <div class="col-md-6 text-center">
                <h2 class="uf-ct-01-text-primary text-uppercase fw-bold">
                  Contact Us
                </h2>
                <p>Or reach out manually to <br />www.x.com/esiilimil</p>
                <img
                  src="../assets/images/plane.png"
                  alt=""
                  class="uf-img-contact-form-01 pt-4 d-md-block d-none"
                />
              </div>
              <div class="col-md-6">
                <form>
                  <div class="mb-3">
                    <label for="uf-imail" class="form-label"
                      >Email address</label
                    >
                    <input
                      type="email"
                      class="form-control"
                      id="uf-imail"
                      aria-describedby="emailHelp"
                    />
                    <div id="emailHelp" class="form-text uf-ct-01-text-primary">
                      We'll never share your email with anyone else.
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="uf-iname" class="form-label">Your name</label>
                    <input type="text" class="form-control" id="uf-iname" />
                  </div>
                  <div class="mb-3">
                    <label for="uf-itextarea" class="form-label"
                      >Your message</label
                    >
                    <textarea
                      class="form-control"
                      id="uf-itextarea"
                      rows="3"
                    ></textarea>
                  </div>
                  <button type="submit" class="btn btn-lg uf-ct-01-btn-primary">
                    Send Message
                  </button>
                </form>
              </div>
            </div>
          </div>
        </section>

        <footer class="footer">
          <div class="footer-top">
            <div class="container">
              <div class="footer-brand">
                <a href="#" class="logo">
                  <img
                    src="../assets/images/logo.svg"
                    alt="Tourist Assistance"
                  />
                </a>

                <p class="footer-text">
                  "We provide information on top detail tourist spots and
                  recreational activities in Yanbu."
                </p>
              </div>

              <div class="footer-contact">
                <h4 class="contact-title">Contact Us</h4>

                <p class="contact-text">Feel free to contact and reach us !!</p>

                <ul>
                  <li class="contact-item">
                    <ion-icon name="logo-twitter"></ion-icon>

                    <a class="contact-link">www.x.com/esiilimil</a>
                  </li>
                </ul>
              </div>

              <div class="footer-form">
                <p class="form-text">
                  Subscribe our newsletter for more update & news !!
                </p>

                <form action="" class="form-wrapper">
                  <input
                    type="email"
                    name="email"
                    class="input-field"
                    placeholder="Enter Your Email"
                    required
                  />

                  <button type="submit" class="btn btn-secondary">
                    Subscribe
                  </button>
                </form>
              </div>
            </div>
          </div>

          <div class="footer-bottom">
            <div class="container">
              <p class="copyright">
                &copy; 2024 <a href="">TouristAssistance</a>. All rights
                reserved
              </p>

              <ul class="footer-bottom-list">
                <li>
                  <a href="#" class="footer-bottom-link">Privacy Policy</a>
                </li>

                <li>
                  <a href="#" class="footer-bottom-link">Term & Condition</a>
                </li>

                <li>
                  <a href="#" class="footer-bottom-link">FAQ</a>
                </li>
              </ul>
            </div>
          </div>
        </footer>
        <a href="#top" class="go-top" data-go-top>
          <ion-icon name="chevron-up-outline"></ion-icon>
        </a>
      </article>
    </main>

    <script src="./assets/js/script.js"></script>

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const loginButton = document.getElementById("login-btn");
        const logoutButton = document.getElementById("logout-btn");

        const userCredentials = localStorage.getItem("rememberedEmail");

        if (userCredentials) {
          loginButton.style.display = "none";
          logoutButton.style.display = "inline-block";

          logoutButton.addEventListener("click", function () {
            localStorage.removeItem("rememberedEmail");
            alert("You have been logged out.");
            location.reload();
          });
        } else {
          loginButton.style.display = "inline-block";
          logoutButton.style.display = "none";
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const destinationLink = document.getElementById("destination-link");

        destinationLink.addEventListener("click", function (event) {
          const userCredentials = localStorage.getItem("rememberedEmail");

          if (userCredentials) {
            window.location.href = "./destination.html";
          } else {
            alert("Please log in to access this page.");
            window.location.href = "./login.html";
          }
        });
      });
    </script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";

      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCcrmc-xWUUqUUTNUc4Wh1cPn2QwBx6mWk",
        authDomain: "tourist-assistance-web.firebaseapp.com",
        databaseURL:
          "https://tourist-assistance-web-default-rtdb.firebaseio.com",
        projectId: "tourist-assistance-web",
        storageBucket: "tourist-assistance-web.appspot.com",
        messagingSenderId: "425469167399",
        appId: "1:425469167399:web:06db513c363870bde94b02",
        measurementId: "G-GB2EHP0YMQ",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      console.log("Firebase Initialized");

      document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        const emailInput = document.getElementById("uf-imail");
        const nameInput = document.getElementById("uf-iname");
        const messageInput = document.getElementById("uf-itextarea");

        form.addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent form submission

          // Clear previous error messages
          const errorElements = form.querySelectorAll(".error-message");
          errorElements.forEach((el) => el.remove());

          let isValid = true;

          function showError(input, message) {
            isValid = false;
            const error = document.createElement("div");
            error.className = "error-message text-danger mt-1";
            error.textContent = message;
            input.after(error);
          }

          // Validate fields
          if (!emailInput.value.trim()) {
            showError(emailInput, "Email address is required.");
          } else if (!/\S+@\S+\.\S+/.test(emailInput.value)) {
            showError(emailInput, "Please enter a valid email address.");
          }

          if (!nameInput.value.trim()) {
            showError(nameInput, "Your name is required.");
          }

          if (!messageInput.value.trim()) {
            showError(messageInput, "Your message is required.");
          }

          // If valid, upload to Firebase
          if (isValid) {
            const formData = {
              email: emailInput.value.trim(),
              name: nameInput.value.trim(),
              message: messageInput.value.trim(),
              timestamp: Date.now(),
            };

            const formId = "contact_" + Date.now(); // Unique ID for each form entry
            set(ref(database, "contactForms/" + formId), formData)
              .then(() => {
                alert("Form submitted successfully!");
                form.reset(); // Reset the form
              })
              .catch((error) => {
                console.error("Error saving data:", error);
                alert("Failed to save data. Please try again.");
              });
          }
        });
      });
    </script>
  </body>
</html>
